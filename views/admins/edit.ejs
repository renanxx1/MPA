<%- include ('../partials/header.ejs')%>
    <%- include ('../partials/navbar.ejs')%>
        <div id="layoutSidenav_content">
            <main>
                <div class="container-fluid">
                    <h1 class="mt-4">Editar Administrador</h1>
                    <ol class="breadcrumb mb-4">
                        <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
                        <li class="breadcrumb-item active"><a href="/admin">Admin</a></li>
                        <li class="breadcrumb-item active">Editar</li>
                    </ol>
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Edição Administrador</h5>


                            <form action="/admin/editar/<%=admin.id%>" method="POST">
                                <div class="form-group">
                                    <input type="hidden" class="form-control" name="id" value="<%=admin.id%>">
                                    <label>Login</label>
                                    <input type="login" class="form-control" name="login"
                                        placeholder="Alterar login para..." value="<%=admin.login%>" id="loginId">
                                </div>
                                <div class="form-group">
                                    <label id="labelSenha">Senha</label>
                                    <input type="password" class="form-control" name="password" placeholder="*********"
                                        id="passwordId" disabled>
                                </div>

                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1"
                                        value="option1" onchange="bloquearInput()" checked>
                                    <label class="form-check-label" for="gridRadios1">
                                        Login
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2"
                                        value="option2" onchange="bloquearInput()">
                                    <label class="form-check-label" for="gridRadios2">
                                        Senha
                                    </label>
                                </div>

                                <button type="submit" class="btn btn-dark mt-2" id="btnAlterar"
                                    onclick="removerAttr()">Alterar</button>
                            </form>

                            <% if(statusCode==201){%>
                                <div class="alert alert-success mt-3" role="alert">
                                    Atualizado com sucesso!
                                </div>
                                <% } %>
                                    <% if(statusCode==406){%>
                                        <div class="alert alert-danger mt-3" role="alert">
                                            Erro: Login ja cadastrado.
                                        </div>
                                        <% } %>
                                            <% if(statusCode==409){%>
                                                <div class="alert alert-danger mt-3" role="alert">
                                                    Erro: Login já cadastrado para um Colaborador.
                                                </div>
                                                <% } %>

                        </div>
                    </div>
            </main>


            <script>
                function bloquearInput() {
                    if (document.getElementById('gridRadios1').checked == true) {
                        document.getElementById('loginId').disabled = false
                        document.getElementById('passwordId').disabled = true

                    } else if (document.getElementById('gridRadios2').checked == true) {
                        document.getElementById('loginId').disabled = true
                        document.getElementById('passwordId').disabled = false
                    }
                }

                function removerAttr() {
                    $('#loginId').removeAttr("disabled");
                    $('#passwordId').removeAttr("disabled");
                }
            </script>

            <%- include ('../partials/footer.ejs')%>

                </html>